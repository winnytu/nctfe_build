(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-33f80f6e"],{"08e1":function(e,t,s){e.exports=s.p+"img/search.92212b95.svg"},"18d5":function(e,t,s){e.exports=s.p+"img/user.e33d47fc.jpg"},"1de5":function(e,t,s){e.exports=s.p+"img/card1.ed6ce178.jpg"},"2ace":function(e,t,s){},"3fc7":function(e,t,s){},"6ed7":function(e,t,s){"use strict";s("3fc7")},"7c9d":function(e,t,s){},"9c5e":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"exchange-item-container"},[s("div",{staticClass:"exchange-item-row"},e._l(e.itemList,(function(t,a){return s("div",{key:a,staticClass:"exchange-item-wrapper",on:{click:function(s){return e.showDetail(t)}}},[s("div",{staticClass:"exchange-item"},[s("div",{staticClass:"img-container"},[s("img",{attrs:{src:t.img?t.img:e.defaultimg}})]),"專卡"!==t.category?s("div",{staticClass:"category"},[e._v("\n\t\t\t\t\t"+e._s(t.category)+"\n\t\t\t\t")]):s("div",{staticClass:"group"},[s("span",{staticClass:"groupname"},[e._v(e._s(t.groupName))]),s("span",{staticClass:"album"},[e._v(e._s(t.album))])]),s("div",{staticClass:"exchange-detail"},[s("div",{staticClass:"own"},e._l(t.ownMember,(function(t){return s("div",{key:t,staticClass:"member"},[e._v(e._s(t)+" ")])})),0),s("div",{staticClass:"exchange-icon"},[e._v("換")]),s("div",{staticClass:"target"},e._l(t.targetMember,(function(t,a){return s("div",{key:a,staticClass:"member"},[e._v(e._s(t)+" ")])})),0)]),s("div",{staticClass:"note"},[s("p",e._l(t.note,(function(t){return s("span",{key:t},[e._v("#"+e._s(t)+" ")])})),0)]),s("div",{staticClass:"user"},[e._m(0,!0),s("div",{staticClass:"loginname"},[e._v(e._s(t.creator))])])])])})),0),s("exchangeDetail",{attrs:{showDialog:e.showExchangeDetail,exchangeItem:e.curExchangeItem},on:{"update:showDialog":function(t){e.showExchangeDetail=t},"update:show-dialog":function(t){e.showExchangeDetail=t}}})],1)},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"img"},[a("img",{attrs:{src:s("18d5"),alt:""}})])}],n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{staticClass:"exchange-detail",attrs:{visible:e.showDialog,width:"800"},on:{close:function(t){return e.onClose()}}},[s("div",{staticClass:"title",attrs:{slot:"title"},slot:"title"},[e._v("\n    "+e._s(1==e.step?"交換物品詳情":"交換資訊確認")+"\n  ")]),1==e.step?s("div",{staticClass:"item-info"},[s("div",{staticClass:"img-container"},[s("img",{attrs:{src:e.exchangeItem.img?e.exchangeItem.img:e.defaultimg}})]),s("div",{staticClass:"category-group"},[s("p",{staticClass:"category"},[e._v(e._s(e.exchangeItem.category))]),"專卡"===e.exchangeItem.category?s("p",{staticClass:"album"},[e._v(e._s(e.exchangeItem.groupName)+" "+e._s(e.exchangeItem.album))]):e._e()]),s("p",{staticClass:"member"},[e._l(e.exchangeItem.ownMember,(function(t){return s("span",{key:t},[e._v(e._s(t)+" ")])})),e._v(" 換 "),e._l(e.exchangeItem.targetMember,(function(t,a){return s("span",{key:a},[e._v(e._s(t)+" ")])}))],2),s("p",{staticClass:"desc"},[e._v(e._s(e.exchangeItem.desc))]),s("p",{staticClass:"note"},e._l(e.exchangeItem.note,(function(t){return s("span",{key:t},[e._v("#"+e._s(t)+" ")])})),0),s("el-form",{staticClass:"apply-form"},[s("div",{staticClass:"apply-title"},[e._v("申請交換")]),s("el-form-item",{attrs:{label:"選擇擁有成員"}},[s("el-checkbox-group",{model:{value:e.form.ownMember,callback:function(t){e.$set(e.form,"ownMember",t)},expression:"form.ownMember"}},e._l(e.exchangeItem.targetMember,(function(e,t){return s("el-checkbox",{key:t,attrs:{label:e,name:"member"}})})),1)],1),s("el-form-item",{attrs:{label:"選擇欲交換成員"}},[s("el-checkbox-group",{attrs:{size:"small"},model:{value:e.form.targetMember,callback:function(t){e.$set(e.form,"targetMember",t)},expression:"form.targetMember"}},e._l(e.exchangeItem.ownMember,(function(e,t){return s("el-checkbox",{key:t,attrs:{label:e,name:"member"}})})),1)],1),s("el-form-item",{attrs:{label:"交換方式"}},[s("el-checkbox-group",{model:{value:e.form.exchangeWay,callback:function(t){e.$set(e.form,"exchangeWay",t)},expression:"form.exchangeWay"}},e._l(e.exchangeItem.exchangeWay,(function(e,t){return s("el-checkbox",{key:t,attrs:{label:e,name:"way"}})})),1)],1)],1)],1):e._e(),2==e.step?s("div",{staticClass:"check-form"},[s("p",[s("span",{staticClass:"form-title"},[e._v("交換物品")]),s("span",{staticClass:"category"},[e._v(e._s(e.exchangeItem.category))]),"專卡"===e.exchangeItem.category?s("span",{staticClass:"album"},[e._v(e._s(e.exchangeItem.groupName)+" "+e._s(e.exchangeItem.album))]):e._e()]),s("p",[s("span",{staticClass:"form-title"},[e._v("擁有成員")]),e._l(e.form.ownMember,(function(t){return s("span",{key:t,staticClass:"member"},[e._v(e._s(t))])}))],2),s("p",[s("span",{staticClass:"form-title"},[e._v("欲交換成員")]),e._l(e.form.targetMember,(function(t){return s("span",{key:t},[e._v(e._s(t))])}))],2),s("p",[s("span",{staticClass:"form-title"},[e._v("可交易方式")]),e._l(e.exchangeItem.exchangeWay,(function(t){return s("span",{key:t},[e._v(e._s(t))])}))],2),s("p",{staticClass:"form-title"},[e._v("填寫交換訊息")]),s("el-input",{attrs:{type:"textarea",placeholder:"請填入訊息"},model:{value:e.message.postMessage,callback:function(t){e.$set(e.message,"postMessage",t)},expression:"message.postMessage"}}),s("div",{staticClass:"warning-text"},[s("i",{staticClass:"el-icon-warning"}),e._v("點擊送出即提交申請，若隨意取消交易可能會影響您的評價")])],1):e._e(),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){return e.onClose()}}},[e._v(e._s(1==e.step?"取消":"上一步"))]),s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit()}}},[e._v(e._s(1==e.step?"下一步":"確認送出"))])],1)])},c=[],o=(s("8e6e"),s("ac6a"),s("456d"),s("bd86")),i=s("2f62"),l=s("b4b8");function m(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function u(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?m(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):m(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var b={props:{showDialog:{type:Boolean,require:!0},exchangeItem:{require:!0}},data:function(){return{defaultimg:s("1de5"),step:1,form:{targetMember:[],ownMember:[],exchangeWay:[]},message:{postMessage:""}}},computed:u({},Object(i["c"])({userImg:function(e){return e.user.userImg},userName:function(e){return e.user.userName}})),watch:{showDialog:function(e){e&&(this.form={targetMember:[],ownMember:[],exchangeWay:[]},this.message={postMessage:""})}},methods:{onClose:function(){2!=this.step?this.$emit("update:showDialog",!1):this.step=1},onSubmit:function(){this.submitItem()},submitItem:function(){if(1==this.step)return this.message.postMessage="您好，我有".concat(this.form.ownMember,"想跟您換").concat(this.form.targetMember),void(this.step=2);var e=this.form;e.itemId=this.exchangeItem.itemId,e.exchangeItemId=this.exchangeItem.exchangeItemId,e.applier=this.userName,this.message.fromUser=this.userName,this.message.toUser=this.exchangeItem.creator,this.message.relatedItem=this.exchangeItem.itemId,e.message=this.message,Object(l["a"])(e).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)})),this.$emit("update:showDialog",!1)}}},g=b,h=(s("6ed7"),s("2877")),f=Object(h["a"])(g,n,c,!1,null,"8826e71e",null),p=f.exports,d={name:"exchangeItem",components:{exchangeDetail:p},props:{itemList:{type:Array,default:[]}},data:function(){return{defaultimg:s("1de5"),curExchangeItem:"",showExchangeDetail:!1}},methods:{showDetail:function(e){this.curExchangeItem=e,this.showExchangeDetail=!0}}},v=d,w=(s("ef34"),Object(h["a"])(v,a,r,!1,null,"29e40748",null));t["a"]=w.exports},a4c5:function(e,t,s){"use strict";s("7c9d")},c8d7:function(e,t,s){},cf49:function(e,t,s){"use strict";s("c8d7")},e9f1:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"exchange"},[s("searchExchange"),s("p",{staticClass:"title"},[e._v("最新交換")]),s("exchangeItem",{attrs:{itemList:e.allItems}})],1)},r=[],n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"searchExchange"},[a("div",{staticClass:"searchform"},[a("div",{staticClass:"search-item category",class:{active:e.showCategorySelection},on:{click:function(t){return e.showFilter("category")}}},[a("div",{staticClass:"search-title"},[e._v("物品類型")]),a("p",{staticClass:"search-desc"},[e._v("小卡、周邊還是手燈？")]),e.showCategorySelection?a("div",{staticClass:"member-select-form"},[a("el-radio-group",{model:{value:e.category,callback:function(t){e.category=t},expression:"category"}},e._l(e.categories,(function(e,t){return a("el-radio-button",{key:t,attrs:{label:e,value:e}})})),1),"專卡"===e.category?a("div",{staticClass:"album-selection"},[a("el-select",{model:{value:e.albumGroup,callback:function(t){e.albumGroup=t},expression:"albumGroup"}},e._l(e.groups,(function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})})),1),e.albumGroup?a("el-select",{model:{value:e.album,callback:function(t){e.album=t},expression:"album"}},e._l(e.albums,(function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})})),1):e._e()],1):e._e(),e.category&&"專卡"!==e.category?a("el-input",{staticClass:"keyword",attrs:{placeholder:"關鍵字"},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}):e._e()],1):e._e()]),a("div",{staticClass:"search-item",class:{active:e.showOwnMemberSelection},on:{click:function(t){return e.showFilter("ownMember")}}},[a("div",{staticClass:"search-title"},[e._v("擁有成員")]),a("p",{staticClass:"search-desc"},[e._v(e._s(e.ownMenberSelection?e.ownMenberSelection:"選擇成員"))]),e.showOwnMemberSelection?a("div",{staticClass:"member-select-form"},[a("el-radio-group",{staticClass:"group-select",model:{value:e.ownMemberGroup,callback:function(t){e.ownMemberGroup=t},expression:"ownMemberGroup"}},e._l(e.groups,(function(e,t){return a("el-radio-button",{key:t,staticClass:"selection",attrs:{label:e,value:e}})})),1),a("el-radio-group",{model:{value:e.ownMenberSelection,callback:function(t){e.ownMenberSelection=t},expression:"ownMenberSelection"}},e._l(e.memberList,(function(e,t){return a("el-radio",{key:t,staticClass:"selection",attrs:{border:"",label:e,value:e}})})),1)],1):e._e()]),a("div",{staticClass:"search-item",class:{active:e.showTargetMemberSelection},on:{click:function(t){return e.showFilter("targetMember")}}},[a("div",{staticClass:"search-title"},[e._v("欲換成員")]),a("p",{staticClass:"search-desc"},[e._v("選擇成員")]),e.showTargetMemberSelection?a("div",{staticClass:"member-select-form"},[a("el-radio-group",{staticClass:"group-select",model:{value:e.targetMemberGroup,callback:function(t){e.targetMemberGroup=t},expression:"targetMemberGroup"}},e._l(e.groups,(function(e,t){return a("el-radio-button",{key:t,staticClass:"selection",attrs:{label:e,value:e}})})),1),a("el-radio-group",{model:{value:e.targetMenberSelection,callback:function(t){e.targetMenberSelection=t},expression:"targetMenberSelection"}},e._l(e.memberList,(function(e,t){return a("el-radio",{key:t,staticClass:"selection",attrs:{border:"",label:e,value:e}})})),1)],1):e._e()]),a("div",{staticClass:"search",on:{click:function(t){return e.doSearch()}}},[a("img",{attrs:{src:s("08e1"),alt:""}})])])])},c=[],o=(s("8e6e"),s("ac6a"),s("456d"),s("bd86")),i=s("2f62");function l(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function m(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?l(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):l(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var u={data:function(){return{form:{groupName:"",album:"",category:"",ownMember:[],targetMember:[]},memberList:[],albums:[],categories:["專卡","玩偶/娃娃","官方周邊","飯制周邊"],ways:["店到店","賣貨便","面交","郵寄","其他"],ownMemberGroup:"",ownMenberSelection:"",targetMemberGroup:"",targetMenberSelection:"",showCategorySelection:!1,showOwnMemberSelection:!1,showTargetMemberSelection:!1,category:"",albumGroup:"",album:"",keyword:""}},computed:m({},Object(i["c"])({groups:function(e){return e.basic.groups},nctMembers:function(e){return e.basic.nctMembers},nct127Members:function(e){return e.basic.nct127Members},nctdreamMembers:function(e){return e.basic.nctdreamMembers},wayvMembers:function(e){return e.basic.wayvMembers},nctAlbums:function(e){return e.basic.nctAlbums},nct127Albums:function(e){return e.basic.nct127Albums},nctdreamAlbums:function(e){return e.basic.nctdreamAlbums},wayvAlbums:function(e){return e.basic.wayvAlbums}})),watch:{ownMemberGroup:{handler:function(e){switch(e){case"NCT":this.memberList=this.nctMembers;break;case"NCT127":this.memberList=this.nct127Members;break;case"NCT Dream":this.memberList=this.nctdreamMembers;break;case"WayV":this.memberList=this.wayvMembers;break}}},albumGroup:{handler:function(e){switch(e){case"NCT":this.albums=this.nctAlbums;break;case"NCT127":this.albums=this.nct127Albums;break;case"NCT Dream":this.albums=this.nctdreamAlbums;break;case"WayV":this.albums=this.wayvAlbums;break}}},category:function(e){}},methods:{initForm:function(){this.form={groupName:"",album:"",category:"",itemType:"",exchangeWay:[],ownMember:[],targetMember:[]}},showFilter:function(e){switch(this.showCategorySelection=!1,this.showOwnMemberSelection=!1,this.showTargetMemberSelection=!1,e){case"category":this.showCategorySelection=!0;break;case"ownMember":this.showOwnMemberSelection=!0;break;case"targetMember":this.showTargetMemberSelection=!0;break}},doSearch:function(){}}},b=u,g=(s("cf49"),s("2877")),h=Object(g["a"])(b,n,c,!1,null,"54edebf3",null),f=h.exports,p=s("9c5e"),d=s("b4b8"),v={name:"Exchange",components:{searchExchange:f,exchangeItem:p["a"]},data:function(){return{allItems:[],showAddExchange:!1,form:{creator:""}}},mounted:function(){this.getExchangeItemList()},methods:{popAddExchange:function(){this.showAddExchange=!0},getExchangeItemList:function(){var e=this,t=this.form;Object(d["c"])(t).then((function(t){console.log(t),e.allItems=t.items})).catch((function(e){console.log(e)}))}}},w=v,y=(s("a4c5"),Object(g["a"])(w,a,r,!1,null,"fe634224",null));t["default"]=y.exports},ef34:function(e,t,s){"use strict";s("2ace")}}]);
//# sourceMappingURL=chunk-33f80f6e.5c5a8344.js.map