(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-eb894daa"],{"18d5":function(e,t,s){e.exports=s.p+"img/user.e33d47fc.jpg"},"1de5":function(e,t,s){e.exports=s.p+"img/card1.ed6ce178.jpg"},"2ace":function(e,t,s){},"3fc7":function(e,t,s){},"42a0":function(e,t,s){"use strict";s("f49e")},"6ed7":function(e,t,s){"use strict";s("3fc7")},"9c5e":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"exchange-item-container"},[s("div",{staticClass:"exchange-item-row"},e._l(e.itemList,(function(t,a){return s("div",{key:a,staticClass:"exchange-item-wrapper",on:{click:function(s){return e.showDetail(t)}}},[s("div",{staticClass:"exchange-item"},[s("div",{staticClass:"img-container"},[s("img",{attrs:{src:t.img?t.img:e.defaultimg}})]),"專卡"!==t.category?s("div",{staticClass:"category"},[e._v("\n\t\t\t\t\t"+e._s(t.category)+"\n\t\t\t\t")]):s("div",{staticClass:"group"},[s("span",{staticClass:"groupname"},[e._v(e._s(t.groupName))]),s("span",{staticClass:"album"},[e._v(e._s(t.album))])]),s("div",{staticClass:"exchange-detail"},[s("div",{staticClass:"own"},e._l(t.ownMember,(function(t){return s("div",{key:t,staticClass:"member"},[e._v(e._s(t)+" ")])})),0),s("div",{staticClass:"exchange-icon"},[e._v("換")]),s("div",{staticClass:"target"},e._l(t.targetMember,(function(t,a){return s("div",{key:a,staticClass:"member"},[e._v(e._s(t)+" ")])})),0)]),s("div",{staticClass:"note"},[s("p",e._l(t.note,(function(t){return s("span",{key:t},[e._v("#"+e._s(t)+" ")])})),0)]),s("div",{staticClass:"user"},[e._m(0,!0),s("div",{staticClass:"loginname"},[e._v(e._s(t.creator))])])])])})),0),s("exchangeDetail",{attrs:{showDialog:e.showExchangeDetail,exchangeItem:e.curExchangeItem},on:{"update:showDialog":function(t){e.showExchangeDetail=t},"update:show-dialog":function(t){e.showExchangeDetail=t}}})],1)},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"img"},[a("img",{attrs:{src:s("18d5"),alt:""}})])}],i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{staticClass:"exchange-detail",attrs:{visible:e.showDialog,width:"800"},on:{close:function(t){return e.onClose()}}},[s("div",{staticClass:"title",attrs:{slot:"title"},slot:"title"},[e._v("\n    "+e._s(1==e.step?"交換物品詳情":"交換資訊確認")+"\n  ")]),1==e.step?s("div",{staticClass:"item-info"},[s("div",{staticClass:"img-container"},[s("img",{attrs:{src:e.exchangeItem.img?e.exchangeItem.img:e.defaultimg}})]),s("div",{staticClass:"category-group"},[s("p",{staticClass:"category"},[e._v(e._s(e.exchangeItem.category))]),"專卡"===e.exchangeItem.category?s("p",{staticClass:"album"},[e._v(e._s(e.exchangeItem.groupName)+" "+e._s(e.exchangeItem.album))]):e._e()]),s("p",{staticClass:"member"},[e._l(e.exchangeItem.ownMember,(function(t){return s("span",{key:t},[e._v(e._s(t)+" ")])})),e._v(" 換 "),e._l(e.exchangeItem.targetMember,(function(t,a){return s("span",{key:a},[e._v(e._s(t)+" ")])}))],2),s("p",{staticClass:"desc"},[e._v(e._s(e.exchangeItem.desc))]),s("p",{staticClass:"note"},e._l(e.exchangeItem.note,(function(t){return s("span",{key:t},[e._v("#"+e._s(t)+" ")])})),0),s("el-form",{staticClass:"apply-form"},[s("div",{staticClass:"apply-title"},[e._v("申請交換")]),s("el-form-item",{attrs:{label:"選擇擁有成員"}},[s("el-checkbox-group",{model:{value:e.form.ownMember,callback:function(t){e.$set(e.form,"ownMember",t)},expression:"form.ownMember"}},e._l(e.exchangeItem.targetMember,(function(e,t){return s("el-checkbox",{key:t,attrs:{label:e,name:"member"}})})),1)],1),s("el-form-item",{attrs:{label:"選擇欲交換成員"}},[s("el-checkbox-group",{attrs:{size:"small"},model:{value:e.form.targetMember,callback:function(t){e.$set(e.form,"targetMember",t)},expression:"form.targetMember"}},e._l(e.exchangeItem.ownMember,(function(e,t){return s("el-checkbox",{key:t,attrs:{label:e,name:"member"}})})),1)],1),s("el-form-item",{attrs:{label:"交換方式"}},[s("el-checkbox-group",{model:{value:e.form.exchangeWay,callback:function(t){e.$set(e.form,"exchangeWay",t)},expression:"form.exchangeWay"}},e._l(e.exchangeItem.exchangeWay,(function(e,t){return s("el-checkbox",{key:t,attrs:{label:e,name:"way"}})})),1)],1)],1)],1):e._e(),2==e.step?s("div",{staticClass:"check-form"},[s("p",[s("span",{staticClass:"form-title"},[e._v("交換物品")]),s("span",{staticClass:"category"},[e._v(e._s(e.exchangeItem.category))]),"專卡"===e.exchangeItem.category?s("span",{staticClass:"album"},[e._v(e._s(e.exchangeItem.groupName)+" "+e._s(e.exchangeItem.album))]):e._e()]),s("p",[s("span",{staticClass:"form-title"},[e._v("擁有成員")]),e._l(e.form.ownMember,(function(t){return s("span",{key:t,staticClass:"member"},[e._v(e._s(t))])}))],2),s("p",[s("span",{staticClass:"form-title"},[e._v("欲交換成員")]),e._l(e.form.targetMember,(function(t){return s("span",{key:t},[e._v(e._s(t))])}))],2),s("p",[s("span",{staticClass:"form-title"},[e._v("可交易方式")]),e._l(e.exchangeItem.exchangeWay,(function(t){return s("span",{key:t},[e._v(e._s(t))])}))],2),s("p",{staticClass:"form-title"},[e._v("填寫交換訊息")]),s("el-input",{attrs:{type:"textarea",placeholder:"請填入訊息"},model:{value:e.message.postMessage,callback:function(t){e.$set(e.message,"postMessage",t)},expression:"message.postMessage"}}),s("div",{staticClass:"warning-text"},[s("i",{staticClass:"el-icon-warning"}),e._v("點擊送出即提交申請，若隨意取消交易可能會影響您的評價")])],1):e._e(),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){return e.onClose()}}},[e._v(e._s(1==e.step?"取消":"上一步"))]),s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit()}}},[e._v(e._s(1==e.step?"下一步":"確認送出"))])],1)])},c=[],r=(s("8e6e"),s("ac6a"),s("456d"),s("bd86")),o=s("2f62"),l=s("b4b8");function m(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function u(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?m(Object(s),!0).forEach((function(t){Object(r["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):m(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var g={props:{showDialog:{type:Boolean,require:!0},exchangeItem:{require:!0}},data:function(){return{defaultimg:s("1de5"),step:1,form:{targetMember:[],ownMember:[],exchangeWay:[]},message:{postMessage:""}}},computed:u({},Object(o["c"])({userImg:function(e){return e.user.userImg},userName:function(e){return e.user.userName}})),watch:{showDialog:function(e){e&&(this.form={targetMember:[],ownMember:[],exchangeWay:[]},this.message={postMessage:""})}},methods:{onClose:function(){2!=this.step?this.$emit("update:showDialog",!1):this.step=1},onSubmit:function(){this.submitItem()},submitItem:function(){if(1==this.step)return this.message.postMessage="您好，我有".concat(this.form.ownMember,"想跟您換").concat(this.form.targetMember),void(this.step=2);var e=this.form;e.itemId=this.exchangeItem.itemId,e.exchangeItemId=this.exchangeItem.exchangeItemId,e.applier=this.userName,this.message.fromUser=this.userName,this.message.toUser=this.exchangeItem.creator,this.message.relatedItem=this.exchangeItem.itemId,e.message=this.message,Object(l["a"])(e).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)})),this.$emit("update:showDialog",!1)}}},h=g,f=(s("6ed7"),s("2877")),p=Object(f["a"])(h,i,c,!1,null,"8826e71e",null),d=p.exports,v={name:"exchangeItem",components:{exchangeDetail:d},props:{itemList:{type:Array,default:[]}},data:function(){return{defaultimg:s("1de5"),curExchangeItem:"",showExchangeDetail:!1}},methods:{showDetail:function(e){this.curExchangeItem=e,this.showExchangeDetail=!0}}},_=v,b=(s("ef34"),Object(f["a"])(_,a,n,!1,null,"29e40748",null));t["a"]=b.exports},a1c4:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mine"},[s("div",{staticClass:"matchitems"},[s("div",{staticClass:"title"},[e._v("我的交換")]),s("div",{staticClass:"container"},[s("div",{staticClass:"own"},[s("div",{staticClass:"own-title"},[e._v("我發起的")]),s("exchangeItem",{attrs:{itemList:e.myExchangeList}})],1),s("div",{staticClass:"join"},[s("div",{staticClass:"join-title"},[e._v("我參與的")]),s("exchangeItem",{attrs:{itemList:e.myApplyList}})],1)])]),e._m(0),s("div",{staticClass:"followingitems"})])},n=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"togetheritems"},[s("div",{staticClass:"title"},[e._v("我的揪團")]),s("div",{staticClass:"container"},[s("div",{staticClass:"own"},[e._v("我發起的揪團")]),s("div",{staticClass:"other"},[e._v("我參與的揪團")])])])}],i=s("c24f"),c=s("9c5e"),r={components:{exchangeItem:c["a"]},data:function(){return{myApplyList:[],myExchangeList:[]}},mounted:function(){this.getUserItemList()},methods:{getUserItemList:function(){var e=this,t={userName:this.$store.state.user.userName,type:"exchange"};Object(i["a"])(t).then((function(t){console.log(t),e.myApplyList=t.body.myApplyList,e.myExchangeList=t.body.myExchangeList})).catch((function(e){console.log(e)}))}}},o=r,l=(s("42a0"),s("2877")),m=Object(l["a"])(o,a,n,!1,null,"3b006643",null);t["default"]=m.exports},ef34:function(e,t,s){"use strict";s("2ace")},f49e:function(e,t,s){}}]);
//# sourceMappingURL=chunk-eb894daa.f3615884.js.map